# css2atomcss

目标是将dom中class对应的css样式转换为atomcss的模式

## 特殊说明

1. 由于目前开发的主要目的是为了实现小程序相关的动态化方案，使用atom css来保证css的动态性
2. 存在伪类或者伪元素的问题，在实际的小程序开发中，伪类用的相对而言比较少，如果直接选择不使用伪元素，那么就大概率可以认为css的问题是可以动态化的，做一下取舍

## 方案选择

目前市面上较为流传的`atom css`的解决方案是`tailwindcss`，所以可以得出选择方向为

- postcss做css的ast解析跟转换
- cheerio做html的元素class跟style的变更

由于部分属性他是存在纯数字的样式，例如: `width: 200rpx`，所以针对于这种样式，是需要直接打进style里面，而不是通过编译器在进行一层处理（ 减少多余无用的css引入吧 ）

这样最后返回出来的css都会打入进dom中，在通过`vdom`的方式解决整体的`html, js, css`的全动态方案

## 计划变更

原是准备为小程序动态化考虑实现他的一个可动态的css引入的问题，后来发现小程序中的css动态化实现可能不太能够成功，所以，这个库的目的将进行修改

为了解决css冗余的问题，即每次业务写的css可能很多会是一样的，那么就会加载相同的css内容导致css文件增大的情况

> ps：为什么变更？  主要是因为小程序的一个动画效果，他的@keyframes无法通过dom的方式进行加载， 而且他的使用频率也是比较频繁，所以目前小程序的动态化（在开发环境下加速），不考虑css的动态化，而是每次需要重新编译css，当然减少了js的大头，本身css编译也不慢